{% extends "navbar_base.html" %} 


{% block content %}
    <main class="ml-64 p-8" style="padding-left: 40px">
        <div>
            <h1 class="text-3xl md:text-3xl font-extrabold;" style=" font-weight: bold; font-size: x-large;">
                Your Cart</h1>
                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        <ul>
                            {% for category, message in messages %}
                                <li class="{{ category }}">{{ message }}</li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                {% endwith %}
                {% if not cart_courses %}
                    <p>Your cart is empty.</p>
                {% else %}
        </div><br>    
        <table border="1">
                <tr>
                    <th scope="col" class="px-4 py-2 border border-gray-400">Course ID</th>
                    <th scope="col" class="px-4 py-2 border border-gray-400">Course Name</th>
                    <th scope="col" class="px-4 py-2 border border-gray-400">Class ID</th>
                    <th scope="col" class="px-4 py-2 border border-gray-400">Semester</th>
                    <th scope="col" class="px-4 py-2 border border-gray-400">Credits</th>
                    <th> </th>
                </tr>
                {% for class in cart_courses %}
                <tr>
                    <td class="px-4 py-2 border border-gray-400">{{ class.course_id }}</td>
                    <td class="px-4 py-2 border border-gray-400">{{ class.course_name }}</td>
                    <td class="px-4 py-2 border border-gray-400">{{ class.class_id }}</td>
                    <td class="px-4 py-2 border border-gray-400">{{ class.semester }}</td>
                    <td class="px-4 py-2 border border-gray-400">{{ class.credits_awarded }}</td>
                    <td> 
                        <form action="{{ url_for('remove_from_cart') }}" method="post">
                            <input type="hidden" name="class_id" value="{{ class.class_id }}">
                            <button type="submit"class="text-white hover:text-black bg-black hover:bg-white 
                            font-medium text-sm px-6 py-2 border-2 border-black shadow rounded transition duration-200">Remove from Cart</button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </thead>    
        </table>
        <br>
        <form action="{{ url_for('register_courses') }}" method="post">
            <button type="submit"class="text-white hover:text-black bg-black hover:bg-white 
            font-medium text-sm px-6 py-2 border-2 border-black shadow rounded transition duration-200">Register for All Courses</button>
        </form>
        <br>
        {% endif %}
        <a href="{{ url_for('view_courses') }}">
            <button type="submit"class="text-white hover:text-black bg-black hover:bg-white 
            font-medium text-sm px-6 py-2 border-2 border-black shadow rounded transition duration-200">Back to Courses</button>
        </a>
        <a href="{{ url_for('registered_classes') }}">
            <button type="submit"class="text-white hover:text-black bg-black hover:bg-white 
            font-medium text-sm px-6 py-2 border-2 border-black shadow rounded transition duration-200">Registered Courses</button>
        </a>
    </main>
    {% include 'additional_info.html' %}    
{% endblock %}